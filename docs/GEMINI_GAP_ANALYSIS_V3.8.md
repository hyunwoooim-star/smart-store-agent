# Gemini CTO 리뷰 요청: 현재 구현 vs 권장 사항 Gap 분석

## 배경
Gemini CTO님의 상세페이지 생성 + 이미지 처리 피드백을 받고,
현재 구현된 코드와 비교 분석했습니다.

---

## 1. 상세페이지 텍스트 생성기 비교

### Gemini 권장 사항
```
- PAS 프레임워크: Problem → Agitation → Solution
- SEO 키워드 5회 이상 자연 삽입
- 리뷰 방어 로직: 경쟁사 약점 → 우리 강점 자동 연결
- 타겟 고객 드롭다운 (주부/학생/직장인/등산객...)
- 블록(Block) 단위 출력 (복사-붙여넣기 용이)
```

### 현재 구현 (`src/generators/detail_page_generator.py`)
```python
# 현재 출력 구조
{
    "headline": "대표 헤드라인",
    "sub_headlines": ["서브1", "서브2"],
    "body_sections": [{"title": "제목", "content": "내용"}],
    "bullet_points": ["포인트1"],
    "seo_keywords": ["키워드1"],  # 출력만 하고 본문에 삽입 안함
    "call_to_action": "CTA",
    "cautions": ["주의사항"]
}
```

### Gap 분석
| 항목 | 권장 | 현재 | 상태 |
|------|------|------|------|
| PAS 프레임워크 | 필수 | 미적용 | ❌ |
| SEO 키워드 삽입 | 본문에 5회+ | 별도 필드로 출력만 | ❌ |
| 리뷰 방어 로직 | 자동 연결 | `competitor_weaknesses` 필드만 존재 | ⚠️ |
| 타겟 고객 UI | 드롭다운 | 텍스트 입력 | ⚠️ |
| 블록 출력 | HTML/Markdown 포맷 | JSON만 | ⚠️ |

---

## 2. 이미지 처리 비교

### Gemini 권장 사항
```
[Block 1] 인트로: 흑백 필터 + 빨간 경고 문구
[Block 2] GIF: 1688 동영상 → 3초 GIF 변환
[Block 3] 스펙표: OCR로 중국어 지우고 한국어 덮기
[Block 4] 비교표: 타사 vs 자사 테이블 이미지

필수 기술:
- EasyOCR: 중국어 위치 찾기
- OpenCV/LaMa: Inpainting (글자 지우기)
- rembg: 누끼 따기
- PIL: 한국어 텍스트 합성
```

### 현재 구현
```
src/generators/image_processor.py → 파일 없음 (미구현)
```

### Gap 분석
| 항목 | 권장 | 현재 | 상태 |
|------|------|------|------|
| 중국어 OCR | EasyOCR | 없음 | ❌❌ |
| 글자 지우기 | Inpainting | 없음 | ❌❌ |
| 누끼 따기 | rembg | 없음 | ❌❌ |
| 한국어 합성 | PIL/Pillow | 없음 | ❌❌ |
| GIF 변환 | moviepy | 없음 | ❌❌ |
| 템플릿 합성 | 프레임 끼워넣기 | 없음 | ❌❌ |

**결론: 이미지 처리는 0% 구현**

---

## 3. 질문 목록 (Gemini CTO 검토 요청)

### Q1. 우선순위 재조정
현재 상황:
- 원클릭 소싱 (v3.8.0) ✅ 완료
- 상세페이지 텍스트 생성기 ⚠️ 뼈대만 있음
- 이미지 처리 ❌ 미구현

**질문**: 다음 중 뭘 먼저 해야 할까요?
- A) 텍스트 생성기 PAS 프레임워크 업그레이드
- B) 이미지 처리 기초 구현 (중국어 지우기)
- C) 둘 다 하지 말고 판매 시작
- D) 기타 (직접 제안)

### Q2. PAS 프레임워크 적용 방법
현재 프롬프트는 "JSON 형식으로 출력"만 강제합니다.

**질문**: PAS를 어떻게 적용해야 할까요?
- A) body_sections을 [Problem, Agitation, Solution] 3개로 고정
- B) 별도 필드 추가: `problem`, `agitation`, `solution`
- C) 프롬프트만 수정하고 출력 구조는 그대로
- D) PAS 대신 다른 프레임워크 추천 (AIDA 등)

### Q3. SEO 키워드 삽입 전략
현재: `seo_keywords` 필드로 키워드만 출력
권장: 본문에 5회 이상 자연 삽입

**질문**: 구현 방법은?
- A) Gemini에게 "본문에 키워드 5회 삽입" 프롬프트 추가
- B) 후처리로 키워드 카운트 → 부족하면 재생성
- C) 키워드 밀도(%) 계산 후 경고만 표시
- D) SEO는 나중에, 지금은 무시

### Q4. 리뷰 방어 로직 연동
현재: `competitor_weaknesses` 필드 존재하지만 활용 안함
권장: 경쟁사 약점 → 우리 강점 자동 변환

**질문**: 어떻게 연동할까요?
- A) Phase 5.1 리뷰 분석 결과를 자동으로 주입
- B) 사용자가 수동으로 경쟁사 약점 입력 → AI가 강점으로 변환
- C) 원클릭 소싱에서 경쟁사 리뷰 크롤링 → 자동 분석 → 주입
- D) 복잡하니 나중에

### Q5. 이미지 처리 MVP 범위
전체 구현은 시간이 오래 걸립니다.

**질문**: 이미지 처리 MVP로 뭘 먼저 만들까요?
- A) 중국어 지우기 (OCR + Inpainting) - 가장 시간 절약
- B) 누끼 따기 (rembg) - 가장 쉬움
- C) 한국어 텍스트 합성 (PIL) - 가장 실용적
- D) 비교표 자동 생성 - 가장 임팩트 큼
- E) 이미지 처리 포기, 수동으로

### Q6. 기술 스택 확정
Gemini 권장: EasyOCR + OpenCV + rembg + PIL

**질문**: 이 스택이 맞나요?
- A) 권장대로 진행
- B) Google Cloud Vision API 사용 (더 쉬움, 유료)
- C) 중국어 전용 OCR (PaddleOCR) 추천
- D) 다른 스택 제안

### Q7. 템플릿 전략
Gemini: "예쁜 프레임 5개 미리 만들어두고 끼워넣기"

**질문**: 템플릿 어디서 구할까요?
- A) 직접 Figma/Canva로 제작
- B) 무료 템플릿 사이트에서 다운로드
- C) AI로 생성 (DALL-E, Flux)
- D) 템플릿 없이 심플하게 (흰 배경 + 텍스트)

### Q8. 최종 판단
MVP 기능:
- [x] 마진 분석
- [x] Pre-Flight Check
- [x] 엑셀 생성
- [x] 원클릭 소싱
- [ ] 상세페이지 텍스트 (PAS 미적용)
- [ ] 이미지 처리 (미구현)

**질문**: 지금 판매 시작해도 될까요?
- A) 안됨. 상세페이지 텍스트 PAS 업그레이드 먼저
- B) 안됨. 이미지 처리 최소 1개 기능 먼저
- C) 됨. 상세페이지/이미지는 수동으로 해도 됨
- D) 됨. 근데 1주일 안에 텍스트 생성기 업그레이드 필수

---

## 4. 개발자 의견 (Claude)

### 동의하는 부분
1. **"번역이 아니라 설득"** - 100% 동의. 현재 프롬프트가 너무 약함
2. **이미지 처리 필요성** - 1688 이미지 그대로 쓰면 신뢰도 하락
3. **블록 단위 출력** - 복사-붙여넣기 편의성 중요

### 우려되는 부분
1. **이미지 처리 복잡도** - EasyOCR + Inpainting + rembg... 개발 시간 많이 필요
2. **WSL 환경 제약** - 이미지 처리 라이브러리가 WSL에서 잘 동작할지 불확실
3. **MVP 범위 확장** - 자꾸 기능 추가하면 판매 시작이 계속 늦어짐

### 제안
```
Option A: 텍스트 먼저 (1-2일)
- detail_page_generator.py PAS 업그레이드
- 프롬프트만 수정하면 되니까 빠름
- 이미지는 수동 or 미리캔버스

Option B: 이미지 먼저 (3-5일)
- image_processor.py 기초 구현
- 중국어 지우기 + 한국어 합성
- 텍스트는 현재 버전으로 사용

Option C: 판매 먼저 (0일)
- 현재 기능으로 테스트 판매
- 실제 운영하면서 필요한 기능 파악
- "가설 검증" 후 개발
```

---

## 5. 파일 현황

```
src/generators/
├── detail_page_generator.py  ✅ 있음 (PAS 미적용)
├── image_processor.py        ❌ 없음 (미구현)
├── excel_generator.py        ✅ 있음
├── gap_reporter.py           ✅ 있음
└── templates.py              ✅ 있음
```

---

**Gemini CTO님의 Q1~Q8 답변을 기다립니다!**
